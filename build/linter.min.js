!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.accessibilityLinter=e()}}(function(){var define,module,exports;return function e(t,n,i){function s(r,l){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!l&&c)return c(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var a=n[r]={exports:{}};t[r][0].call(a.exports,function(e){var n=t[r][1][e];return s(n?n:e)},a,a.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({"./tests":[function(e,t,n){"use strict";const{$,$$,cssEscape}=e("./utils");t.exports=new Map([["alt",Object.assign({name:"alt",doc:"alt"},{message:"missing alt attribute",selector:"img:not([alt])"})],["fieldset/checkbox-groups-in-fieldset",Object.assign({name:"fieldset/checkbox-groups-in-fieldset",doc:"fieldset"},{message:"All checkbox groups must be within a fieldset",selector:"input[type=checkbox]",filter:e=>{return e.name&&(!e.form||e.form.elements[e.name]instanceof NodeList)&&(e.form||1!==$$(`input[type=checkbox][name="${cssEscape(e.name)}"]`).filter((e=>!e.form)).length)?e.closest("fieldset"):!0}})],["fieldset/fieldset-has-legend",Object.assign({name:"fieldset/fieldset-has-legend",doc:"fieldset"},{message:"All fieldsets must have a legend",selector:"fieldset",filter:e=>{const t=e.firstElementChild;return t&&t.matches("legend")&&t.textContent.trim()}})],["fieldset/legend-has-fieldset",Object.assign({name:"fieldset/legend-has-fieldset",doc:"fieldset"},{message:"All legends must be the first child of a fieldset",selector:"legend",filter:e=>e.parentNode.matches("fieldset")&&e===e.parentNode.firstElementChild})],["fieldset/radios-in-fieldset",Object.assign({name:"fieldset/radios-in-fieldset",doc:"fieldset"},{message:"All radio inputs must be within a fieldset",selector:"input[type=radio]",filter:e=>e.closest("fieldset")})],["headings",Object.assign({name:"headings",doc:void 0},{message:"Headings must be nested correctly",selector:"h2,h3,h4,h5,h6",allowed:["h1","h2","h3","h4","h5","h6"],previous(e){for(let t=e.previousElementSibling;t&&t.lastElementChild;)t=t.lastElementChild;return t||e.parentElement},filter(e){let t=e;const n=+e.nodeName[1];do if(t=this.previous(t)||t.parentElement,t&&t.matches(this.allowed.join()))return t.matches(this.allowed.slice(n-2).join(","));while(t);return!1}})],["label/inputs-are-labelled",Object.assign({name:"label/inputs-are-labelled",doc:"label-inputs-are-labelled"},{message:"all form elements must have a label",selector:"input,select,textarea",filter(e){if(/^(?:submit|reset|button|image|hidden)$/.test(e.type))return!0;let t;return e.hasAttribute("aria-labelledby")&&(t=$(`#${e.getAttribute("aria-labelledby")}`)),!t&&e.hasAttribute("aria-label")&&(t={textContent:e.getAttribute("aria-label")}),t||(e.id&&(t=$(`label[for="${e.id}"]`)),t||(t=e.closest("label"))),t&&t.textContent.trim()}})],["label/labels-have-inputs",Object.assign({name:"label/labels-have-inputs",doc:"label"},{message:"all labels must be linked to a control",selector:"label",filter:e=>e.htmlFor&&document.getElementById(e.htmlFor)})],["no-empty-select",Object.assign({name:"no-empty-select",doc:void 0},{message:"Selects should have options",selector:"select",filter:e=>$$("option",e).length})],["no-multiple-select",Object.assign({name:"no-multiple-select",doc:void 0},{message:"Do not use multiple selects",selector:"select[multiple]"})],["no-reset",Object.assign({name:"no-reset",doc:void 0},{message:"Do not use reset buttons",selector:"input[type=reset],button[type=reset]"})],["unique-id",Object.assign({name:"unique-id",doc:void 0},{message:"id is not unique",selector:"[id]",filter:e=>!e.id||1===$$(`#${e.id}`).length})]])},{"./utils":5}],1:[function(require,module,exports){"use strict";const Linter=require("./linter"),config=window.accessibilityLinterConfig||{},scriptElement=document.currentScript;scriptElement&&(eval(`!function(){${scriptElement.textContent}}()`),"whitelist"in config||(config.whitelist=scriptElement.dataset.whitelist));const linter=new Linter(config);/^(:?interactive|complete)$/.test(document.readyState)?linter.observe():document.addEventListener("DOMContentLoaded",(()=>linter.observe())),module.exports=linter},{"./linter":2}],2:[function(e,t,n){"use strict";const i=e("./runner"),s=e("./logger"),o=e("./tests"),r=e("./utils"),l=t.exports=class e extends i{constructor(e){e=e||{};e.logger=e.logger||new s;e.tests=e.tests||o;super(e);this.root=e.root||document}observe(){this.run(this.root);this.observer=r.observe(this.run.bind(this),this.root)}stopObserving(){if(this.observer){this.observer.disconnect();this.observer=null}}};l.Logger=s,l.tests=o},{"./logger":3,"./runner":4,"./tests":"./tests","./utils":5}],3:[function(e,t,n){"use strict";t.exports=class e{constructor(e){this.docLink=e}error(e,t){console.error.apply(console,this.message(e,t))}warn(e,t){console.warn.apply(console,this.message(e,t))}message(e,t){return[typeof e.message==="function"?e.message(t):e.message,t,this.getLink(e)].filter(Boolean)}getLink(e){if(!this.docLink||!e.doc){return null}return`${this.docLink}#${e.doc}`}}},{}],4:[function(e,t,n){"use strict";const{$$}=e("./utils"),i="allylint",s=(e,t,n)=>e.set(t,(e.get(t)||[]).concat(n)),o=(e,t,n)=>(e.get(t)||[]).includes(n),r=e=>e.replace(/"/g,'\\"');t.exports=class e{constructor(e){this.tests=e.tests;this.whitelist=e.whitelist||{};this.logger=e.logger;this.reported=new WeakMap;this.whitelisted=new WeakMap;this.ignored=new WeakMap}run(e){this.tests.forEach(((t,n)=>this.runTest(t,n,e)))}runTest(e,t,n){$$(e.selector,n).filter((e=>this.filterIgnoreAttribute(e,t))).filter((e=>this.filterWhitelist(e,t))).filter((e=>!o(this.reported,e,t))).filter((t=>e.filter?!e.filter(t):true)).forEach((n=>{this.logger.error(e,n);s(this.reported,n,t)}))}filterWhitelist(e,t){const n=this.whitelist;if(o(this.whitelisted,e,t)){return false}const i=Object.keys(n).some((i=>{const s=n[i];if(s&&!s.includes(t)){return false}return e.matches(i)}));if(i){s(this.whitelisted,e,t);return false}return true}filterIgnoreAttribute(e,t){if(o(this.ignored,e,t)){return false}const n=e.matches(`[data-${i}-ignore=""],[data-${i}-ignore~="${r(t)}"]`);if(n){s(this.ignored,e,t);return false}return true}}},{"./utils":5}],5:[function(e,t,n){"use strict";n.$$=function(e,t){const n=t||document,i=Array.from(n.querySelectorAll(e));return t&&t instanceof Element&&t.matches(e)&&i.push(t),i},n.$=function(e,t){return n.$$(e,t)[0]},n.cssEscape=function(e){return e.replace(/["\/]/g,"$&")},n.observe=function(e,t){const n=new MutationObserver((t=>{t.forEach((t=>{Array.from(t.addedNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE)).forEach((t=>e(t)))}))}));return n.observe(t,{subtree:!0,childList:!0}),n}},{}]},{},["./tests",1])(1)});
