<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Accessible names</title>
  <link href="styles.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
  <style>
    .before::before {
      content: "Before content";
    }
  </style>
<body>
  <h1>Accessible names</h1>
  <p>
    Tests to check screen-reader compatibility with the
    <a href="https://www.w3.org/TR/accname-aam-1.1/">accessible names algorithum</a>.
  </p>
  <section>
    <h2>Plain button</h2>
    <div class="example">
      <button type="button">Label</button>
    </div>
  </section>

  <section>
    <h2>aria-label</h2>
    <div class="example">
      <button type="button" aria-label="Label">X</button>
    </div>
  </section>

  <section>
    <h2>aria-labelledby</h2>
    <div class="example">
      <p id="id-1">Label</p>
      <button type="button" aria-labelledby="id-1">X</button>
    </div>
  </section>

  <section>
    <h2>multiple aria-labelledby</h2>
    <div class="example">
      <p id="id-28">Label 2</p>
      <p id="id-27">Label 1</p>
      <button type="button" aria-labelledby="id-27 id-28">X</button>
    </div>
  </section>

  <section>
    <h2>aria-labelledby - hidden labels</h2>
    <div class="example">
      <p id="id-8" aria-hidden="true">Label</p>
      <button type="button" aria-labelledby="id-8">X</button>
      <p id="id-9" style="display:none">Label</p>
      <button type="button" aria-labelledby="id-9">X</button>
      <p id="id-10" style="visibility: hidden">Label</p>
      <button type="button" aria-labelledby="id-10">X</button>
    </div>
  </section>

  <section>
    <h2>aria-labelledby - contents with hidden labels</h2>
    <div class="example">
      <p id="id-2">
        <span aria-hidden="true">aria-hidden</span>
        <span style="display: none">display: none</span>
        <span style="visibility: hidden">visibility: hidden</span>
      <p>
      <button type="button" aria-labelledby="id-2">X</button>
    </div>
  </section>

  <section>
    <h2>aria-labelledby and aria-label</h2>
    <div class="example">
      <p id="id-3">aria-labelledby<p>
      <button type="button" aria-labelledby="id-3" aria-label="aria-label">X</button>
    </div>
  </section>

  <section>
    <h2>aria-labelledby recursion</h2>
    <div class="example">
      <button id="id-4" aria-labelledby="id-3"></button>
      <button aria-labelledby="id-4"></button>
      <span id="id-3">hello</span>
    </div>
    <p>
      This example is adapted from the accessible names specification.
      Element 1 should have an accessible name of "hello".
      Element 2 should have no accessible name.
    </p>
  </section>

  <section>
    <h2>aria-labelledby self reference</h2>
    <div class="example">
      <a id="id-5" href="./files/Documentation.pdf">Documentation.pdf</a>
      <span role="button" tabindex="0" id="id-6" aria-label="Delete" aria-labelledby="id-6 id-5"></span>
    </div>
    <p>
      This example is taken from the accessible names specification.
      The span should have an accessible name of "Delete Documentation.pdf"
    </p>
  </section>

  <section>
    <h2>aria-labelledby self reference</h2>
    <div class="example">
      <input type="checkbox" id="id-7" />
      <label for="id-7">Flash the screen <input type="number" value="5" /> times</div>
    </div>
    <p>
      This example is adapted from the specification.  The check box should have
      an accessible name of "Flash the screen <i>x</i> times".
    </p>
  </section>

  <section>
    <h2>Contents - direct</h2>
    <div class="example">
      <p id="id-8">aria-labelledby p</p>
      <p id="id-21">aria-labelledby button</p>
      <label for="id-22">input label</label>
      <button type="button">
        <div>
          div
          <p>Paragraph <span>sub-span</span></span>
        </div>
        <table>
          <tr>
            <th scope="row">th</th>
            <td>td</td>
          </tr>
        </table>
        <p aria-label="Aria-label">Paragraph with aria-label</p>
        <p aria-labelledby="id-8">Paragraph with aria-labelledby</p>
        <button aria-labelledby="id-21">Button with aria-labelledby</button>
        <input type="number" aria-label="Number field" value="5" />
        <img href="/image" alt="Image" />
        <p title="tooltip p">p with tooltip</p>
        <input title="tooltip input" />
        <canvas>canvas</canvas>
      </button>
    </div>
  </section>

  <section>
    <h2>Contents - via aria-laballedby</h2>
    <div class="example">
      <label for="id-13">input label</label>
      <div id="id-23">aria-labelledby p</div>
      <div id="id-19">aria-labelledby button</div>
      <div id="id-12">
        <div>
          div
          <p>Paragraph <span>sub-span</span></span>
        </div>
        <table>
          <tr>
            <th scope="row">th</th>
            <td>td</td>
          </tr>
        </table>
        <p aria-label="Aria-label">Paragraph with aria-label</p>
        <p aria-labelledby="id-23">Paragraph with aria-labelledby</p>
        <button aria-labelledby="id-19">Button with aria-labelledby</button>
        <input type="number" aria-label="Number field" value="5" />
        <img href="/image" alt="Image" />
        <p title="tooltip p">p with tooltip</p>
        <input title="tooltip input" />
        <input type="text" id="id-13" />
        <canvas>canvas</canvas>
      </div>
      <button type="button" aria-labelledby="id-12" />
    </div>
  </section>

  <section>
    <h2>Tooltip</h2>
    <div class="example">
      <button type="button" title="Tooltip" />
    </div>
    <p>Expected: "Tooptip"</p>
  </section>

  <section>
    <h2>Inserted content - bullets</h2>
    <div class="example">
      <ol id="id-14">
        <li>one
        <li>two
      </ol>
      <button type="button" aria-labelledby="id-14" />
    </div>
  </section>

  <section>
    <h2>Inserted content - css</h2>
    <div class="example">
      <p class="before" id="id-15">Paragraph</p>
      <button type="button" aria-labelledby="id-15" />
    </div>
  </section>

  <section>
    <h2>Native - canvas</h2>
    <div class="example">
      <p id="id=16"><canvas>canvas</canvas></p>
      <button type="button" aria-labelledby="id-16" />
    </div>
  </section>

  <section>
    <h2>Native - label</h2>
    <div class="example">
      <span id="id-18">span</span>
      <span id="id-20">span2</span>
      <label for="id-17">
        Label
        <span>sub</span>
        <span aria-labelledby="id-20">x</span>
        <button aria-labelledby="id-18"></button>
      </label>
      <button type="button" id="id-17" />
    </div>
  </section>

  <section>
    <h2>Native - multiple labels</h2>
    <div class="example">
      <label for="id-24">Label 1</label>
      <label for="id-24">Label 2</label>
      <input type="text" id="id-24" />
    </div>
  </section>

  <section>
    <h2>Native - mixed implicit and explicit labels</h2>
    <div class="example">
      <label for="id-25">Label explicit</label>
      <label>
        Label implicit
        <input type="text" id="id-25" />
      </label>
    </div>
  </section>
  j
  <section>
    <h2>Native - mixed implicit and explicit labels - alternate DOM order</h2>
    <div class="example">
      <label>
        Label implicit
        <input type="text" id="id-26" />
      </label>
      <label for="id-26">Label explicit</label>
    </div>
  </section>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
  <script>
    [].slice.call(document.querySelectorAll('.example')).forEach(function(el) {
      var pre = document.createElement('pre');
      var code = document.createElement('code');
      code.className = 'html';
      code.innerText = el.innerHTML;
      el.insertBefore(pre, el.firstChild);
      pre.appendChild(code);
    });
    hljs.initHighlightingOnLoad();
  </script>
